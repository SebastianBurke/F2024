@model scbH60Store.Models.Product

<h2 class="text-3xl font-bold mb-6">Edit Product</h2>

<form asp-action="Edit" enctype="multipart/form-data" class="space-y-6">
    <!-- Error Message -->
    @if (!string.IsNullOrEmpty(ViewData["ErrorMessage"] as string))
    {
        <div class="bg-red-100 text-red-700 border border-red-300 rounded-lg p-4">
            @ViewData["ErrorMessage"]
        </div>
    }

    <!-- Form Fields -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div>
            <label asp-for="Description" class="block text-gray-700 font-medium mb-2"></label>
            <input asp-for="Description" class="border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-blue-300" />
            <span asp-validation-for="Description" class="text-red-600"></span>
        </div>

        <div>
            <label asp-for="Manufacturer" class="block text-gray-700 font-medium mb-2"></label>
            <input asp-for="Manufacturer" class="border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-blue-300" />
            <span asp-validation-for="Manufacturer" class="text-red-600"></span>
        </div>
        <div>
            <label asp-for="Stock" class="block text-gray-700 font-medium mb-2"></label>
            <input asp-for="Stock" class="border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-blue-300" />
            <span asp-validation-for="Stock" class="text-red-600"></span>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

        <div>
            <label asp-for="BuyPrice" class="block text-gray-700 font-medium mb-2"></label>
            <input asp-for="BuyPrice" class="border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-blue-300" />
            <span asp-validation-for="BuyPrice" class="text-red-600"></span>
        </div>

        <div>
            <label asp-for="SellPrice" class="block text-gray-700 font-medium mb-2"></label>
            <input asp-for="SellPrice" class="border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-blue-300" />
            <span asp-validation-for="SellPrice" class="text-red-600"></span>
        </div>

        <div>
            <label asp-for="ProdCatId" class="block text-gray-700 font-medium mb-2">Category</label>
            <select asp-for="ProdCatId" class="border border-gray-300 rounded-lg px-4 py-3 w-full focus:ring-2 focus:ring-blue-300" asp-items="ViewBag.CategoryList"></select>
            <span asp-validation-for="ProdCatId" class="text-red-600"></span>
        </div>
    </div>

    <div>
        <label asp-for="EmployeeNotes" class="block text-gray-700 font-medium mb-2"></label>
        <textarea asp-for="EmployeeNotes" class="border border-gray-300 rounded-lg px-4 py-3 w-full h-32 focus:ring-2 focus:ring-blue-300"></textarea>
        <span asp-validation-for="EmployeeNotes" class="text-red-600"></span>
    </div>

    <!-- Image Section -->
    <div class="mt-6">
        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2">Current Image</label>
                <img src="@Model.ImageUrl" alt="Product Image" class="w-36 h-auto rounded-lg shadow-md" />
            </div>
        }
        else
        {
            <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2">Default Image</label>
                <img src="/images/default-image.png" alt="Default Image" class="w-36 h-auto rounded-lg shadow-md" />
            </div>
        }

        <input type="file" name="ImageFile" class="border border-gray-300 rounded-lg px-4 py-3 w-full" />
        <input type="hidden" asp-for="ImageUrl" />
        <input type="hidden" asp-for="ProductId" />
    </div>

    <!-- Submit Button -->
    <button type="submit" class="bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition">Update</button>
</form>

<div class="mt-6">
    <a asp-action="Index" class="text-blue-500 hover:underline">Back to List</a>
</div>
